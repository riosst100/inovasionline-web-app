<script setup>
definePageMeta({ ssr: false })

const auth = useAuth()

onMounted(async () => {
  try {
    // ðŸ”‘ ambil access token dari refresh cookie
    await auth.refresh()

    // login sukses
    navigateTo("/", { replace: true })
  } catch (err) {
    // refresh gagal â†’ balik ke login
    navigateTo("/login", { replace: true })
  }
})
</script>

<template>
  <p>Logging you in...</p>
</template>
